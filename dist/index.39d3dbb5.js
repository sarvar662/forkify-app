var e,t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i=function(e){return e&&e.Math==Math&&e};r=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n&&n)||function(){return this}()||Function("return this")();var a,o;a=!(o=function(e){try{return!!e()}catch(e){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var c,s={};c=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}));var u,l=Function.prototype.call;s=c?l.bind(l):function(){return l.apply(l,arguments)};var p={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,d=f&&!p.call({1:2},1);u=d?function(e){var t=f(this,e);return!!t&&t.enumerable}:p;var g;g=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};var h,m,v={},b={},y=Function.prototype,k=y.bind,w=y.call,S=c&&k.bind(w,w),E=(b=c?function(e){return e&&S(e)}:function(e){return e&&function(){return w.apply(e,arguments)}})({}.toString),O=b("".slice);m=function(e){return O(E(e),8,-1)};var _=r.Object,j=b("".split);v=o((function(){return!_("z").propertyIsEnumerable(0)}))?function(e){return"String"==m(e)?j(e,""):_(e)}:_;var M,P=r.TypeError;M=function(e){if(null==e)throw P("Can't call method on "+e);return e},h=function(e){return v(M(e))};var $,T,L,H;H=function(e){return"function"==typeof e},L=function(e){return"object"==typeof e?null!==e:H(e)};var I,q={},C=function(e){return H(e)?e:void 0};I=function(e,t){return arguments.length<2?C(r[e]):r[e]&&r[e][t]};var F={};F=b({}.isPrototypeOf);var B,A,N,D={};D=I("navigator","userAgent")||"";var x,U,R=r.process,z=r.Deno,G=R&&R.versions||z&&z.version,J=G&&G.v8;J&&(U=(x=J.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!U&&D&&(!(x=D.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=D.match(/Chrome\/(\d+)/))&&(U=+x[1]),N=U,A=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&N&&N<41})),B=A&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var W=r.Object;q=B?function(e){return"symbol"==typeof e}:function(e){var t=I("Symbol");return H(t)&&F(t.prototype,W(e))};var Q,K,V,X=r.String;V=function(e){try{return X(e)}catch(e){return"Object"}};var Y=r.TypeError;K=function(e){if(H(e))return e;throw Y(V(e)+" is not a function")},Q=function(e,t){var n=e[t];return null==n?void 0:K(n)};var Z,ee=r.TypeError;Z=function(e,t){var n,r;if("string"===t&&H(n=e.toString)&&!L(r=s(n,e)))return r;if(H(n=e.valueOf)&&!L(r=s(n,e)))return r;if("string"!==t&&H(n=e.toString)&&!L(r=s(n,e)))return r;throw ee("Can't convert object to primitive value")};var te,ne;var re,ie={},ae=Object.defineProperty;re=function(e,t){try{ae(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t};var oe=r["__core-js_shared__"]||re("__core-js_shared__",{});ie=oe,(ne=function(e,t){return ie[e]||(ie[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var ce,se={},ue=r.Object;ce=function(e){return ue(M(e))};var le=b({}.hasOwnProperty);se=Object.hasOwn||function(e,t){return le(ce(e),t)};var pe,fe=0,de=Math.random(),ge=b(1..toString);pe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+ge(++fe+de,36)};var he=ne("wks"),me=r.Symbol,ve=me&&me.for,be=B?me:me&&me.withoutSetter||pe;te=function(e){if(!se(he,e)||!A&&"string"!=typeof he[e]){var t="Symbol."+e;A&&se(me,e)?he[e]=me[e]:he[e]=B&&ve?ve(t):be(t)}return he[e]};var ye=r.TypeError,ke=te("toPrimitive");T=function(e,t){if(!L(e)||q(e))return e;var n,r=Q(e,ke);if(r){if(void 0===t&&(t="default"),n=s(r,e,t),!L(n)||q(n))return n;throw ye("Can't convert object to primitive value")}return void 0===t&&(t="number"),Z(e,t)},$=function(e){var t=T(e,"string");return q(t)?t:t+""};var we,Se,Ee=r.document,Oe=L(Ee)&&L(Ee.createElement);Se=function(e){return Oe?Ee.createElement(e):{}},we=!a&&!o((function(){return 7!=Object.defineProperty(Se("div"),"a",{get:function(){return 7}}).a}));var _e,je,Me=Object.getOwnPropertyDescriptor,Pe=t=a?Me:function(e,t){if(e=h(e),t=$(t),we)try{return Me(e,t)}catch(e){}if(se(e,t))return g(!s(u,e,t),e[t])},$e={};je=a&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var Te,Le=r.String,He=r.TypeError;Te=function(e){if(L(e))return e;throw He(Le(e)+" is not an object")};var Ie=r.TypeError,qe=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor;_e=a?je?function(e,t,n){if(Te(e),t=$(t),Te(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Ce(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return qe(e,t,n)}:qe:function(e,t,n){if(Te(e),t=$(t),Te(n),we)try{return qe(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Ie("Accessors not supported");return"value"in n&&(e[t]=n.value),e},$e=a?function(e,t,n){return _e(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e};var Fe,Be={},Ae=b(Function.toString);H(ie.inspectSource)||(ie.inspectSource=function(e){return Ae(e)}),Be=ie.inspectSource;var Ne,De,xe=r.WeakMap;De=H(xe)&&/native code/.test(Be(xe));var Ue,Re=ne("keys");Ue=function(e){return Re[e]||(Re[e]=pe(e))};var ze={};ze={};var Ge,Je,We,Qe=r.TypeError,Ke=r.WeakMap;if(De||ie.state){var Ve=ie.state||(ie.state=new Ke),Xe=b(Ve.get),Ye=b(Ve.has),Ze=b(Ve.set);Ge=function(e,t){if(Ye(Ve,e))throw new Qe("Object already initialized");return t.facade=e,Ze(Ve,e,t),t},Je=function(e){return Xe(Ve,e)||{}},We=function(e){return Ye(Ve,e)}}else{var et=Ue("state");ze[et]=!0,Ge=function(e,t){if(se(e,et))throw new Qe("Object already initialized");return t.facade=e,$e(e,et,t),t},Je=function(e){return se(e,et)?e[et]:{}},We=function(e){return se(e,et)}}Ne={set:Ge,get:Je,has:We,enforce:function(e){return We(e)?Je(e):Ge(e,{})},getterFor:function(e){return function(t){var n;if(!L(t)||(n=Je(t)).type!==e)throw Qe("Incompatible receiver, "+e+" required");return n}}};var tt=Function.prototype,nt=a&&Object.getOwnPropertyDescriptor,rt=se(tt,"name"),it={EXISTS:rt,PROPER:rt&&"something"===function(){}.name,CONFIGURABLE:rt&&(!a||a&&nt(tt,"name").configurable)}.CONFIGURABLE,at=Ne.get,ot=Ne.enforce,ct=String(String).split("String");(Fe=function(e,t,n,i){var a,o=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet,u=i&&void 0!==i.name?i.name:t;H(n)&&("Symbol("===String(u).slice(0,7)&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!se(n,"name")||it&&n.name!==u)&&$e(n,"name",u),(a=ot(n)).source||(a.source=ct.join("string"==typeof u?u:""))),e!==r?(o?!s&&e[t]&&(c=!0):delete e[t],c?e[t]=n:$e(e,t,n)):c?e[t]=n:re(t,n)})(Function.prototype,"toString",(function(){return H(this)&&at(this).source||Be(this)}));var st,ut,lt,pt,ft,dt={},gt=Math.ceil,ht=Math.floor;ft=function(e){var t=+e;return t!=t||0===t?0:(t>0?ht:gt)(t)};var mt=Math.max,vt=Math.min;pt=function(e,t){var n=ft(e);return n<0?mt(n+t,0):vt(n,t)};var bt,yt,kt=Math.min;yt=function(e){return e>0?kt(ft(e),9007199254740991):0},bt=function(e){return yt(e.length)};var wt=function(e){return function(t,n,r){var i,a=h(t),o=bt(a),c=pt(r,o);if(e&&n!=n){for(;o>c;)if((i=a[c++])!=i)return!0}else for(;o>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}},St={includes:wt(!0),indexOf:wt(!1)}.indexOf,Et=b([].push);lt=function(e,t){var n,r=h(e),i=0,a=[];for(n in r)!se(ze,n)&&se(r,n)&&Et(a,n);for(;t.length>i;)se(r,n=t[i++])&&(~St(a,n)||Et(a,n));return a};var Ot,_t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");ut=Object.getOwnPropertyNames||function(e){return lt(e,_t)},Ot=Object.getOwnPropertySymbols;var jt=b([].concat);dt=I("Reflect","ownKeys")||function(e){var t=ut(Te(e));return Ot?jt(t,Ot(e)):t},st=function(e,n,r){for(var i=dt(n),a=_e,o=t,c=0;c<i.length;c++){var s=i[c];se(e,s)||r&&se(r,s)||a(e,s,o(n,s))}};var Mt={},Pt=/#|\.prototype\./,$t=function(e,t){var n=Lt[Tt(e)];return n==It||n!=Ht&&(H(t)?o(t):!!t)},Tt=$t.normalize=function(e){return String(e).replace(Pt,".").toLowerCase()},Lt=$t.data={},Ht=$t.NATIVE="N",It=$t.POLYFILL="P";Mt=$t,e=function(e,t){var n,i,a,o,c,s=e.target,u=e.global,l=e.stat;if(n=u?r:l?r[s]||re(s,{}):(r[s]||{}).prototype)for(i in t){if(o=t[i],a=e.noTargetGet?(c=Pe(n,i))&&c.value:n[i],!Mt(u?i:s+(l?".":"#")+i,e.forced)&&void 0!==a){if(typeof o==typeof a)continue;st(o,a)}(e.sham||a&&a.sham)&&$e(o,"sham",!0),Fe(n,i,o,e)}};var qt,Ct={},Ft=Function.prototype,Bt=Ft.apply,At=Ft.call;Ct="object"==typeof Reflect&&Reflect.apply||(c?At.bind(Bt):function(){return At.apply(Bt,arguments)});var Nt,Dt=b(b.bind);Nt=function(e,t){return K(e),void 0===t?e:c?Dt(e,t):function(){return e.apply(t,arguments)}};var xt={};xt=I("document","documentElement");var Ut={};Ut=b([].slice);var Rt;Rt=/(?:ipad|iphone|ipod).*applewebkit/i.test(D);var zt;zt="process"==m(r.process);var Gt,Jt,Wt,Qt,Kt=r.setImmediate,Vt=r.clearImmediate,Xt=r.process,Yt=r.Dispatch,Zt=r.Function,en=r.MessageChannel,tn=r.String,nn=0,rn={};try{Gt=r.location}catch(e){}var an=function(e){if(se(rn,e)){var t=rn[e];delete rn[e],t()}},on=function(e){return function(){an(e)}},cn=function(e){an(e.data)},sn=function(e){r.postMessage(tn(e),Gt.protocol+"//"+Gt.host)};Kt&&Vt||(Kt=function(e){var t=Ut(arguments,1);return rn[++nn]=function(){Ct(H(e)?e:Zt(e),void 0,t)},Jt(nn),nn},Vt=function(e){delete rn[e]},zt?Jt=function(e){Xt.nextTick(on(e))}:Yt&&Yt.now?Jt=function(e){Yt.now(on(e))}:en&&!Rt?(Qt=(Wt=new en).port2,Wt.port1.onmessage=cn,Jt=Nt(Qt.postMessage,Qt)):r.addEventListener&&H(r.postMessage)&&!r.importScripts&&Gt&&"file:"!==Gt.protocol&&!o(sn)?(Jt=sn,r.addEventListener("message",cn,!1)):Jt="onreadystatechange"in Se("script")?function(e){xt.appendChild(Se("script")).onreadystatechange=function(){xt.removeChild(this),an(e)}}:function(e){setTimeout(on(e),0)}),qt={set:Kt,clear:Vt},e({global:!0,bind:!0,enumerable:!0,forced:!r.setImmediate||!r.clearImmediate},{setImmediate:qt.set,clearImmediate:qt.clear});const un={recipe:{},search:{query:"",results:[],page:1,resultPerPage:10},bookmarks:[]},ln=function(e){let{recipe:t}=e.data;return{cookingTime:t.cooking_time,id:t.id,imageUrl:t.image_url,ingredients:t.ingredients,publisher:t.publisher,servings:t.servings,sourceUrl:t.source_url,title:t.title,...t.key&&{key:t.key}}},pn=function(e=un.search.page){un.search.page=e;let t=10*(e-1),n=t+un.search.resultPerPage;return un.search.results.slice(t,n)},fn=function(){localStorage.setItem("bookmarks",JSON.stringify(un.bookmarks))},dn=function(e){un.bookmarks.push(e),e.id===un.recipe.id&&(un.recipe.bookmarked=!0),fn()};var gn=new class{_parentEl=document.querySelector(".btn-container");render(e){this._parentEl.innerHTML="",this._parentEl.insertAdjacentHTML("afterbegin",this._generateMarkup(e))}changePage(e){this._parentEl.addEventListener("click",(function(t){let n=t.target.closest(".btn-pagination");if(!n)return;let r=n.getAttribute("data-page");console.log(r),e(r)}))}_generateMarkup(e){let t=Math.ceil(e.results.length/e.resultPerPage);return 1===e.page&&t>1?`<button class = "btn-pagination next" data-page ="${e.page+1}"> Page ${e.page+1}> </button>`:e.page>1&&e.page<t?`\n                <button class = "btn-pagination prev" data-page ="${e.page-1}"> Page${e.page-1} </button>\n                <button class = "btn-pagination next" data-page ="${e.page+1}"> Page ${e.page+1} </button>\n                `:e.page===t&&t>1?`\n                <button class = "btn-pagination prev" data-page ="${e.page-1}">Page${e.page-1}</button>\n            `:""}};var hn=new class{_parentEl=document.querySelector(".main-info");render(e){this._generateMarkup(e)}addEventHandlerServings(e){this._parentEl.addEventListener("click",(function(t){let n=t.target.closest(".plus-minus");if(!n)return;let r=Number(n.getAttribute("data-servings"));r>0&&e(r)}))}addEventHandlerBookmark(e){this._parentEl.addEventListener("click",(function(t){t.target.closest(".bookmark")&&e()}))}_generateMarkup(e){let t=`\n        <div class="main-img-title">\n            <img class="recipe-img" src="${e.imageUrl}" alt="">\n            <h1>${e.title}</h1>\n        </div>\n        <div class="main-serving">\n            <span class="minute">${e.cookingTime} minutes</span>\n            <span>\n                <span class="servings">${e.servings} servings</span>\n                <button data-servings = "${e.servings+1}" class="plus-minus">+</button>\n                <button data-servings = "${e.servings-1}" class="plus-minus">-</button>\n            </span>\n            <button class="bookmark ${e.bookmarked?"bookmarked":""}">Bookmark</button>\n        </div>\n        <div class="ingredients">\n            <h2>Ingredients</h2>\n            <ul class="list-group list-unstyled">\n            ${e.ingredients.map((e=>` \n               <li class="ingredient">\n                <span>${e.quantity}</span>\n                <span>${e.unit}</span>\n                <span>${e.description}</span>\n               </li>\n               `)).join("")}\n        </ul>\n        </div>\n        <footer>\n            <h1>How to cook it</h1>\n            <p>This is made by ${e.publisher}</p>\n            <a href='${e.sourceUrl}' class="directions">Directions</a>\n        </footer>\n        `;this._parentEl.innerHTML="",this._parentEl.insertAdjacentHTML("afterbegin",t)}};var mn=new class{_parentEl=document.querySelector(".search");getQuery(){return this._parentEl.querySelector(".search_input").value}addSearchHandler(e){this._parentEl.addEventListener("submit",(function(t){t.preventDefault(),e()}))}};var vn=new class{_asideBar=document.querySelector(".side-1");render(e){this._asideBar.innerHTML="",e.forEach((e=>{this._generateMarkup(e)}))}_generateMarkup(e){let t=`\n            <a class="aside-links" href="#${e.id}">\n            <img src="${e.image_url}" alt="">\n            <div>\n            <h3>${e.title.substring(0,10)}</h3>\n            <h4>${e.publisher}</h4>\n            </div>\n            </a>\n            `;this._asideBar.insertAdjacentHTML("afterbegin",t)}};var bn=new class{_parentEl=document.querySelector(".bookmark-modal");_btnShow=document.querySelector(".bookmark-show-btn");render(e){if(this._parentEl.innerHTML="",0===e.length)return this._parentEl.insertAdjacentHTML("afterbegin","<h2>No bookmarks yet. Find a nice recipe and bookmark it.</h2>");e.forEach((e=>{this._generateMarkup(e)}))}addEventHandlerBtn(e){e()}_generateMarkup(e){let t=`\n            <a class="bookmark-link" href="#${e.id}">\n            <img src="${e.imageUrl}" alt="">\n            <div>\n                <h3>${e.title.substring(0,10)}...</h3>\n                <h5>${e.publisher}</h5>\n            </div>\n            </a>\n        `;this._parentEl.insertAdjacentHTML("afterbegin",t)}};var yn=new class{formContainer=document.querySelector(".form-container");showBtn=document.querySelector(".add-btn");exitBtn=document.querySelector(".exit-btn");form=document.querySelector(".form");constructor(){this.showBtn.addEventListener("click",this.openModal.bind(this)),this.exitBtn.addEventListener("click",this.closeModal.bind(this))}openModal(){this.formContainer.classList.remove("form-hidden")}closeModal(){this.formContainer.classList.add("form-hidden")}addHandlerSubmit(e){this.form.addEventListener("submit",(function(t){t.preventDefault();let n=[...new FormData(this)],r=Object.fromEntries(n);e(r)}))}};let kn=async function(){try{let e=window.location.hash.slice(1)||"5ed6604591c37cdc054bcd09";await(async e=>{try{let t=await fetch("https://forkify-api.herokuapp.com/api/v2/recipes/"+e),n=await t.json();if(!n)throw Error(`${n.message} ${t.status}`);un.recipe=ln(n),un.bookmarks.some((t=>t.id==e))?un.recipe.bookmarked=!0:un.recipe.bookmarked=!1}catch(e){throw e}})(e),hn.render(un.recipe)}catch(e){console.log(e)}};["hashchange","load"].forEach((e=>window.addEventListener(e,kn)));mn.addSearchHandler((async function(){let e=mn.getQuery();await async function(e){try{if(!e)return;un.search.query=e;let t=await fetch(`https://forkify-api.herokuapp.com/api/v2/recipes?search=${e}`),{data:n}=await t.json();if(!n)throw Error(`${n.message} ${t.status}`);un.search.results=n.recipes}catch(e){console.log(e)}}(e),vn.render(pn()),gn.render(un.search)}));gn.changePage((function(e){vn.render(pn(Number(e))),gn.render(un.search)}));hn.addEventHandlerServings((function(e){!function(e){un.recipe.ingredients.forEach((t=>{t.quantity=t.quantity/un.recipe.servings*e})),un.recipe.servings=e}(e),hn.render(un.recipe)}));hn.addEventHandlerBookmark((function(){un.recipe.bookmarked?function(e){let t=un.bookmarks.findIndex((t=>{t.id,e.id}));un.bookmarks.splice(t,1),un.recipe.bookmarked=!1,fn()}(un.recipe.id):dn(un.recipe),hn.render(un.recipe),bn.render(un.bookmarks)}));bn.addEventHandlerBtn((async function(){await async function(){if(0===localStorage.length)return;let e=await JSON.parse(localStorage.getItem("bookmarks"));un.bookmarks=e}(),bn.render(un.bookmarks),console.log(un.bookmarks)}));yn.addHandlerSubmit((async function(e){await async function(e){try{let t=Object.entries(e).filter((e=>e[0].startsWith("ingredient"))).map((e=>{let[t,n,r]=e[1].split(",");return{quantity:t||null,unit:n,description:r}})),n={cooking_time:+e.cookingTime,image_url:e.imageUrl,ingredients:t,publisher:e.publisher,servings:+e.servings,source_url:e.URL,title:e.title},r=await fetch("https://forkify-api.herokuapp.com/api/v2/recipes?key=127dc395-3535-40fd-a6e1-a4368d7ff888",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}),i=await r.json();un.recipe=ln(i),dn(un.recipe)}catch(e){throw e}}(e),hn.render(un.recipe),window.history.pushState(null,"",`#${un.recipe.id}`)}));
//# sourceMappingURL=index.39d3dbb5.js.map
